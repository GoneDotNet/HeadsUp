<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:headsUp="clr-namespace:GoneDotNet.HeadsUp"
             NavigationPage.HasNavigationBar="False"
             x:Class="GoneDotNet.HeadsUp.GamePage"
             x:DataType="headsUp:GameViewModel"
             Shell.NavBarIsVisible="False">
    
    <!-- Dynamic gradient background instead of solid color -->
    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="{Binding StateColor}" Offset="0.0" />
            <GradientStop Color="{StaticResource GamePurple}" Offset="1.0" />
        </LinearGradientBrush>
    </ContentPage.Background>
       
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <!-- Timer with vibrant card design -->
        <Border Grid.Row="0" 
                BackgroundColor="{StaticResource White}"
                StrokeThickness="0"
                Padding="20,15"
                Margin="0,20,0,20"
                Opacity="0.95">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="25"/>
            </Border.StrokeShape>
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,3" Radius="12" Opacity="0.3"/>
            </Border.Shadow>
            <StackLayout Orientation="Horizontal" 
                         HorizontalOptions="Center" 
                         Spacing="10">
                <Label Text="â°" 
                       FontSize="28"
                       VerticalOptions="Center"/>
                <Label Text="{Binding Countdown}" 
                       FontSize="32"
                       FontAttributes="Bold"
                       TextColor="{StaticResource GameOrange}"
                       VerticalOptions="Center">
                    <Label.Shadow>
                        <Shadow Brush="{StaticResource GameLightPink}" 
                                Offset="1,1" 
                                Radius="2" 
                                Opacity="0.3"/>
                    </Label.Shadow>
                </Label>
            </StackLayout>
        </Border>
        
        <!-- Answer text with vibrant card -->
        <Border Grid.Row="1" 
                BackgroundColor="{StaticResource White}"
                StrokeThickness="0"
                Padding="30"
                Margin="0,10"
                Opacity="0.95"
                VerticalOptions="Center">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="30"/>
            </Border.StrokeShape>
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,5" Radius="20" Opacity="0.4"/>
            </Border.Shadow>
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="{StaticResource GameLightBlue}" Offset="0.0" />
                    <GradientStop Color="{StaticResource GameLightPurple}" Offset="1.0" />
                </LinearGradientBrush>
            </Border.Background>
            
            <Label Text="{Binding AnswerText}" 
                   FontSize="42"
                   FontAttributes="Bold"
                   TextColor="{StaticResource GamePurple}"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   HorizontalTextAlignment="Center"
                   VerticalTextAlignment="Center">
                <Label.Shadow>
                    <Shadow Brush="{StaticResource GameLightPurple}" 
                            Offset="2,2" 
                            Radius="4" 
                            Opacity="0.3"/>
                </Label.Shadow>
            </Label>
        </Border>
        
        <!-- State text with dynamic colored card -->
        <Border Grid.Row="2" 
                BackgroundColor="{StaticResource GameBlue}"
                StrokeThickness="0"
                Padding="25,15"
                Margin="20,10,20,20"
                Opacity="0.95">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="20"/>
            </Border.StrokeShape>
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,3" Radius="12" Opacity="0.3"/>
            </Border.Shadow>
            <Label Text="{Binding StateText}" 
                   FontSize="32"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center">
                <Label.Shadow>
                    <Shadow Brush="Black" Offset="1,1" Radius="3" Opacity="0.5"/>
                </Label.Shadow>
            </Label>
        </Border>
        
        <!-- Instructions with colorful design -->
        <Border Grid.Row="3" 
                BackgroundColor="{StaticResource GameTeal}"
                StrokeThickness="0"
                Padding="20,12"
                Margin="10,0,10,20"
                Opacity="0.9">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="18"/>
            </Border.StrokeShape>
            <Border.Shadow>
                <Shadow Brush="Black" Offset="0,2" Radius="8" Opacity="0.2"/>
            </Border.Shadow>
            <Label Text="ðŸ“± Tilt phone UP for PASS â†‘ â€¢ Tilt phone DOWN for SUCCESS â†“"
                   FontSize="16"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center">
                <Label.Shadow>
                    <Shadow Brush="Black" Offset="1,1" Radius="2" Opacity="0.4"/>
                </Label.Shadow>
            </Label>
        </Border>
    </Grid>
</ContentPage>